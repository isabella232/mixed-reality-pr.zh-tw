---
title: 全像投影穩定性
description: HoloLens 會自動穩定的全像影像，但開發人員可以採取一些步驟來進一步改善全像影像的穩定性。
author: thetuvix
ms.author: alexturn
ms.date: 07/08/2020
ms.topic: article
keywords: 全像投影、穩定性、hololens、混合現實耳機、windows mixed reality 耳機、虛擬實境耳機、畫面播放速率、轉譯、reprojection、色彩分隔
appliesto:
- HoloLens
ms.openlocfilehash: a4a22221d3238bb7dfed711e6ee1f11edc70238e
ms.sourcegitcommit: 12ea3fb2df4664c5efd07dcbb9040c2ff173afb6
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/29/2021
ms.locfileid: "113042289"
---
# <a name="hologram-stability"></a><span data-ttu-id="96d78-104">全像投影穩定性</span><span class="sxs-lookup"><span data-stu-id="96d78-104">Hologram stability</span></span>

<span data-ttu-id="96d78-105">為了達成穩定的全像，HoloLens 有內建的影像穩定管線。</span><span class="sxs-lookup"><span data-stu-id="96d78-105">To achieve stable holograms, HoloLens has a built-in image stabilization pipeline.</span></span> <span data-ttu-id="96d78-106">穩定管線會在背景中自動運作，因此您不需要採取任何額外的步驟來啟用它。</span><span class="sxs-lookup"><span data-stu-id="96d78-106">The stabilization pipeline works automatically in the background, so you don't need to take any extra steps to enable it.</span></span> <span data-ttu-id="96d78-107">不過，您應該練習改善全像全像的技術，並避免降低穩定性的案例。</span><span class="sxs-lookup"><span data-stu-id="96d78-107">However, you should exercise techniques that improve hologram stability and avoid scenarios that reduce stability.</span></span>

## <a name="hologram-quality-terminology"></a><span data-ttu-id="96d78-108">全像影像品質術語</span><span class="sxs-lookup"><span data-stu-id="96d78-108">Hologram quality terminology</span></span>

<span data-ttu-id="96d78-109">全像是環境和良好應用程式開發的結果。</span><span class="sxs-lookup"><span data-stu-id="96d78-109">The quality of holograms is a result of good environment and good app development.</span></span> <span data-ttu-id="96d78-110">在 HoloLens 可以追蹤周圍的環境中，每秒在常數60畫面格上執行的應用程式，可確保全像影像和相符的座標系統都處於同步狀態。從使用者的觀點來看，要成為固定的全像全像，不會隨著環境而移動。</span><span class="sxs-lookup"><span data-stu-id="96d78-110">Apps running at a constant 60 frames-per-second in an environment where HoloLens can track the surroundings ensures the hologram and the matching coordinate system are in sync. From a user's perspective, holograms that are meant to be stationary won't move relative to the environment.</span></span>

<span data-ttu-id="96d78-111">當您識別環境的問題、不一致或低轉譯率，或其他任何情況時，下列術語可以協助您。</span><span class="sxs-lookup"><span data-stu-id="96d78-111">The following terminology can help you when you're identifying problems with the environment, inconsistent or low rendering rates, or anything else.</span></span>
* <span data-ttu-id="96d78-112">**精度。**</span><span class="sxs-lookup"><span data-stu-id="96d78-112">**Accuracy.**</span></span> <span data-ttu-id="96d78-113">一旦全像世界鎖定並放在現實世界中，就應該將它放在相對於周圍環境的位置，以及與使用者移動或小型和稀疏的環境變更無關。</span><span class="sxs-lookup"><span data-stu-id="96d78-113">Once the hologram is world-locked and placed in the real world, it should stay where it's placed relative to the surrounding environment and independent of user motion or small and sparse environment changes.</span></span> <span data-ttu-id="96d78-114">如果在非預期的位置中出現的全息圖，則是 *精確度* 問題。</span><span class="sxs-lookup"><span data-stu-id="96d78-114">If a hologram later appears in an unexpected location, it's an *accuracy* problem.</span></span> <span data-ttu-id="96d78-115">如果兩個不同的房間看起來相同，就會發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="96d78-115">Such scenarios can happen if two distinct rooms look identical.</span></span>
* <span data-ttu-id="96d78-116">**抖動。**</span><span class="sxs-lookup"><span data-stu-id="96d78-116">**Jitter.**</span></span> <span data-ttu-id="96d78-117">使用者將抖動視為高頻率搖動的全像影像，這可能會在環境降低時發生。</span><span class="sxs-lookup"><span data-stu-id="96d78-117">Users observe jitter as high frequency shaking of a hologram, which can happen when tracking of the environment degrades.</span></span> <span data-ttu-id="96d78-118">針對使用者，解決方案正在執行 [感應器微調](/hololens/hololens-updates)。</span><span class="sxs-lookup"><span data-stu-id="96d78-118">For users, the solution is running [sensor tuning](/hololens/hololens-updates).</span></span>
* <span data-ttu-id="96d78-119">**Judder.**</span><span class="sxs-lookup"><span data-stu-id="96d78-119">**Judder.**</span></span> <span data-ttu-id="96d78-120">低轉譯頻率會導致不平均的移動和雙空間影像。</span><span class="sxs-lookup"><span data-stu-id="96d78-120">Low rendering frequencies result in uneven motion and double images of holograms.</span></span> <span data-ttu-id="96d78-121">Judder 在具有移動功能的全像影像中特別明顯。</span><span class="sxs-lookup"><span data-stu-id="96d78-121">Judder is especially noticeable in holograms with motion.</span></span> <span data-ttu-id="96d78-122">開發人員必須維持 [固定的 60 FPS](hologram-stability.md#frame-rate)。</span><span class="sxs-lookup"><span data-stu-id="96d78-122">Developers need to maintain a [constant 60 FPS](hologram-stability.md#frame-rate).</span></span>
* <span data-ttu-id="96d78-123">**漂移。**</span><span class="sxs-lookup"><span data-stu-id="96d78-123">**Drift.**</span></span> <span data-ttu-id="96d78-124">使用者會看到因為全像全像投影一樣的漂移。</span><span class="sxs-lookup"><span data-stu-id="96d78-124">Users see drift as a hologram appears to move away from where it was originally placed.</span></span> <span data-ttu-id="96d78-125">當您放置離 [空間錨點遠離空間錨點](../../design/spatial-anchors.md)（尤其是在環境未對應的部分）時，就會發生漂移。</span><span class="sxs-lookup"><span data-stu-id="96d78-125">Drift happens when you place holograms far away from [spatial anchors](../../design/spatial-anchors.md), particularly in unmapped parts of the environment.</span></span> <span data-ttu-id="96d78-126">建立接近空間錨點的全像影像，可降低漂移的可能性。</span><span class="sxs-lookup"><span data-stu-id="96d78-126">Creating holograms close to spatial anchors lowers the likelihood of drift.</span></span>
* <span data-ttu-id="96d78-127">**Jumpiness.**</span><span class="sxs-lookup"><span data-stu-id="96d78-127">**Jumpiness.**</span></span> <span data-ttu-id="96d78-128">當全像的位置，而不是在它的位置，</span><span class="sxs-lookup"><span data-stu-id="96d78-128">When a hologram "pops" or "jumps" away from its location occasionally.</span></span> <span data-ttu-id="96d78-129">Jumpiness 可能會隨著追蹤調整，以符合對您環境的更新理解。</span><span class="sxs-lookup"><span data-stu-id="96d78-129">Jumpiness can occur as tracking adjusts holograms to match updated understanding of your environment.</span></span>
* <span data-ttu-id="96d78-130">**游泳。**</span><span class="sxs-lookup"><span data-stu-id="96d78-130">**Swim.**</span></span> <span data-ttu-id="96d78-131">當與使用者前端的動作相對應的全像是 sway 時。</span><span class="sxs-lookup"><span data-stu-id="96d78-131">When a hologram appears to sway corresponding to the motion of the user's head.</span></span> <span data-ttu-id="96d78-132">當應用程式未完全實 [reprojection](hologram-stability.md#reprojection)，且未針對目前使用者 [校正](/hololens/hololens-calibration) HoloLens 時，就會發生泳道。</span><span class="sxs-lookup"><span data-stu-id="96d78-132">Swim occurs when the application hasn't fully implemented [reprojection](hologram-stability.md#reprojection), and if the HoloLens isn't [calibrated](/hololens/hololens-calibration) for the current user.</span></span> <span data-ttu-id="96d78-133">使用者可以重新執行 [校正](/hololens/hololens-calibration) 應用程式以修正問題。</span><span class="sxs-lookup"><span data-stu-id="96d78-133">The user can rerun the [calibration](/hololens/hololens-calibration) application to fix the issue.</span></span> <span data-ttu-id="96d78-134">開發人員可以更新穩定平面來進一步增強穩定性。</span><span class="sxs-lookup"><span data-stu-id="96d78-134">Developers can update the stabilization plane to further enhance stability.</span></span>
* <span data-ttu-id="96d78-135">**色彩分隔。**</span><span class="sxs-lookup"><span data-stu-id="96d78-135">**Color separation.**</span></span> <span data-ttu-id="96d78-136">HoloLens 中的顯示為彩色順序顯示，可在 60 Hz 將紅色-綠色-藍色-綠色的色頻閃爍 (個別的色彩欄位會顯示在 240 Hz) 。</span><span class="sxs-lookup"><span data-stu-id="96d78-136">The displays in HoloLens are color sequential displays, which flash color channels of red-green-blue-green at 60 Hz (individual color fields are shown at 240 Hz).</span></span> <span data-ttu-id="96d78-137">每當使用者以眼睛來追蹤移動全息圖時，該全息圖的開頭和尾端邊緣會以其構成色彩分隔，產生彩虹效果。</span><span class="sxs-lookup"><span data-stu-id="96d78-137">Whenever a user tracks a moving hologram with their eyes, that hologram's leading and trailing edges separate in their constituent colors, producing a rainbow effect.</span></span> <span data-ttu-id="96d78-138">分隔程度取決於全息圖的速度。</span><span class="sxs-lookup"><span data-stu-id="96d78-138">The degree of separation is dependent upon the speed of the hologram.</span></span> <span data-ttu-id="96d78-139">在某些罕見的情況下，在查看固定的全像點時快速移動一次，也會造成彩虹的效果，稱為 *[色彩分隔](hologram-stability.md#color-separation)*。</span><span class="sxs-lookup"><span data-stu-id="96d78-139">In some rarer cases, moving ones head rapidly while looking at a stationary hologram can also result in a rainbow effect, which is called *[color separation](hologram-stability.md#color-separation)*.</span></span>

## <a name="frame-rate"></a><span data-ttu-id="96d78-140">畫面播放速率</span><span class="sxs-lookup"><span data-stu-id="96d78-140">Frame rate</span></span>

<span data-ttu-id="96d78-141">畫面播放速率是全像全像要件的第一次的影像。</span><span class="sxs-lookup"><span data-stu-id="96d78-141">Frame rate is the first pillar of hologram stability.</span></span> <span data-ttu-id="96d78-142">若要讓全像全球的影像顯示穩定，則呈現給使用者的每個影像都必須以正確的位置繪製影像。</span><span class="sxs-lookup"><span data-stu-id="96d78-142">For holograms to appear stable in the world, each image presented to the user must have the holograms drawn in the correct spot.</span></span> <span data-ttu-id="96d78-143">HoloLens 重新整理240次時，會顯示四個不同的色彩欄位給每個新轉譯的影像，讓使用者體驗 60 FPS (每秒畫面格) 。</span><span class="sxs-lookup"><span data-stu-id="96d78-143">The displays on HoloLens refresh 240 times a second, showing four separate color fields for each newly rendered image, resulting in a user experience of 60 FPS (frames per second).</span></span> <span data-ttu-id="96d78-144">為了盡可能提供最佳體驗，應用程式開發人員必須維持 60 FPS，這會轉譯成每16毫秒都能以一致的方式提供新的映射給作業系統。</span><span class="sxs-lookup"><span data-stu-id="96d78-144">To provide the best experience possible, application developers must maintain 60 FPS, which translates to consistently providing a new image to the operating system every 16 milliseconds.</span></span>

<span data-ttu-id="96d78-145">**60 FPS** 為了繪製像是坐在現實世界的全像桌，HoloLens 需要從使用者的位置呈現影像。</span><span class="sxs-lookup"><span data-stu-id="96d78-145">**60 FPS** To draw holograms to look like they're sitting in the real world, HoloLens needs to render images from the user's position.</span></span> <span data-ttu-id="96d78-146">由於影像轉譯需要一些時間，因此 HoloLens 會預測使用者的標頭在顯示中顯示時的位置。</span><span class="sxs-lookup"><span data-stu-id="96d78-146">Since image rendering takes time, HoloLens predicts where a user's head will be when the images are shown in the displays.</span></span> <span data-ttu-id="96d78-147">不過，此預測演算法是近似值。</span><span class="sxs-lookup"><span data-stu-id="96d78-147">However, this prediction algorithm is an approximation.</span></span> <span data-ttu-id="96d78-148">HoloLens 的硬體會調整轉譯的影像，以考慮預測的標頭位置與實際的 head 定位之間的差異。</span><span class="sxs-lookup"><span data-stu-id="96d78-148">HoloLens has hardware that adjusts the rendered image to account for the discrepancy between the predicted head position and the actual head position.</span></span> <span data-ttu-id="96d78-149">調整會讓使用者看到的影像看起來像是從正確的位置轉譯，而全像是穩定的。</span><span class="sxs-lookup"><span data-stu-id="96d78-149">The adjustment makes the image the user sees appear as if it's rendered from the correct location, and holograms feel stable.</span></span> <span data-ttu-id="96d78-150">映射更新最適用于小型變更，而且無法完整修正轉譯影像中的特定專案，例如視差。</span><span class="sxs-lookup"><span data-stu-id="96d78-150">The image updates work best with small changes, and it can't completely fix certain things in the rendered image like motion-parallax.</span></span>

<span data-ttu-id="96d78-151">藉由轉譯 60 FPS，您會執行三個動作來協助您建立穩定的全像：</span><span class="sxs-lookup"><span data-stu-id="96d78-151">By rendering at 60 FPS, you're doing three things to help make stable holograms:</span></span>
1. <span data-ttu-id="96d78-152">將轉譯影像和使用者看到的影像之間的整體延遲降至最低。</span><span class="sxs-lookup"><span data-stu-id="96d78-152">Minimizing the overall latency between rendering an image and that image being seen by the user.</span></span> <span data-ttu-id="96d78-153">在具有遊戲的引擎和在密集建置中執行的轉譯執行緒中，在30FPS 上執行時，可能會增加33.3 毫秒的額外延遲。</span><span class="sxs-lookup"><span data-stu-id="96d78-153">In an engine with a game and a render thread running in lockstep, running at 30FPS can add 33.3 ms of extra latency.</span></span> <span data-ttu-id="96d78-154">減少延遲可減少預測錯誤，並增加全像全像的穩定性。</span><span class="sxs-lookup"><span data-stu-id="96d78-154">Reducing latency decreases prediction error and increases hologram stability.</span></span>
2. <span data-ttu-id="96d78-155">讓每個影像觸達使用者的眼睛，都有一致的延遲時間。</span><span class="sxs-lookup"><span data-stu-id="96d78-155">Making it so every image reaching the user's eyes have a consistent amount of latency.</span></span> <span data-ttu-id="96d78-156">如果您在 30 fps 的情況下轉譯，顯示器仍會以 60 FPS 顯示影像，這表示相同的影像會顯示在資料列中兩次。</span><span class="sxs-lookup"><span data-stu-id="96d78-156">If you render at 30 fps, the display still displays images at 60 FPS, meaning the same image will be displayed twice in a row.</span></span> <span data-ttu-id="96d78-157">第二個框架的延遲比第一個畫面的延遲16.6 還要高，且必須更正更顯著的錯誤數量。</span><span class="sxs-lookup"><span data-stu-id="96d78-157">The second frame will have 16.6-ms more latency than the first frame and will have to correct a more pronounced amount of error.</span></span> <span data-ttu-id="96d78-158">這種錯誤的大小不一致可能會造成不必要的 60 Hz judder。</span><span class="sxs-lookup"><span data-stu-id="96d78-158">This inconsistency in error magnitude can cause unwanted 60 Hz judder.</span></span>
3. <span data-ttu-id="96d78-159">減少出現顫抖，它的特色是不平均的運動和雙重影像。</span><span class="sxs-lookup"><span data-stu-id="96d78-159">Reducing the appearance of judder, which is characterized by uneven motion and double images.</span></span> <span data-ttu-id="96d78-160">更快的全像投影動作和更低的轉譯率與更明顯的顫抖相關聯。</span><span class="sxs-lookup"><span data-stu-id="96d78-160">Faster hologram motion and lower render rates are associated with more pronounced judder.</span></span> <span data-ttu-id="96d78-161">隨時致力於維護 60 FPS，將有助於避免特定移動全息圖的 judder。</span><span class="sxs-lookup"><span data-stu-id="96d78-161">Striving to maintain 60 FPS at all times will help avoid judder for a given moving hologram.</span></span>

<span data-ttu-id="96d78-162">**畫面播放速率一致性** 畫面播放速率一致性就像每秒高框架一樣重要。</span><span class="sxs-lookup"><span data-stu-id="96d78-162">**Frame-rate consistency** Frame rate consistency is as important as a high frames-per-second.</span></span> <span data-ttu-id="96d78-163">針對任何內容豐富的應用程式，偶爾會捨棄的框架是不可避免的，而 HoloLens 會實行一些精密的演算法來從偶爾的問題中復原。</span><span class="sxs-lookup"><span data-stu-id="96d78-163">Occasionally dropped frames are inevitable for any content-rich application, and the HoloLens implements some sophisticated algorithms to recover from occasional glitches.</span></span> <span data-ttu-id="96d78-164">不過，不斷變動的畫面播放速率對使用者而言，比以較低的畫面播放速率一致地執行更為明顯。</span><span class="sxs-lookup"><span data-stu-id="96d78-164">However, a constantly fluctuating framerate is a lot more noticeable to a user than running consistently at lower frame rates.</span></span> <span data-ttu-id="96d78-165">例如，在這五個畫面的持續時間內，針對五個框架順暢轉譯的應用程式 (60 FPS) 然後卸載接下來10個畫面格的每個其他畫面格 (30 FPS，在這10個畫面的持續時間內，) 將會比一致呈現 30 FPS 的應用程式更不穩定。</span><span class="sxs-lookup"><span data-stu-id="96d78-165">For example, an application that renders smoothly for five frames (60 FPS for the duration of these five frames) and then drops every other frame for the next 10 frames (30 FPS for the duration of these 10 frames) will appear more unstable than an application that consistently renders at 30 FPS.</span></span>

<span data-ttu-id="96d78-166">在相關的附注中，當 [混合的現實 capture](/hololens/holographic-photos-and-videos) 正在執行時，作業系統會將應用程式限制為 30 FPS。</span><span class="sxs-lookup"><span data-stu-id="96d78-166">On a related note, the operating system throttles down applications to 30 FPS when [mixed reality capture](/hololens/holographic-photos-and-videos) is running.</span></span>

<span data-ttu-id="96d78-167">**效能分析** 有不同類型的工具可用來對您的應用程式框架速率進行基準測試，例如：</span><span class="sxs-lookup"><span data-stu-id="96d78-167">**Performance analysis** There are different kinds of tools that can be used to benchmark your application frame rate, such as:</span></span>
* <span data-ttu-id="96d78-168">GPUView</span><span class="sxs-lookup"><span data-stu-id="96d78-168">GPUView</span></span>
* <span data-ttu-id="96d78-169">Visual Studio 圖形偵錯工具</span><span class="sxs-lookup"><span data-stu-id="96d78-169">Visual Studio Graphics Debugger</span></span>
* <span data-ttu-id="96d78-170">內建于3D 引擎（例如 Unity）中的分析工具</span><span class="sxs-lookup"><span data-stu-id="96d78-170">Profilers built into 3D engines such as Unity</span></span>

## <a name="hologram-render-distances"></a><span data-ttu-id="96d78-171">全像影像轉譯距離</span><span class="sxs-lookup"><span data-stu-id="96d78-171">Hologram render distances</span></span>

>[!VIDEO https://www.youtube.com/embed/-606oZKLa_s]

<span data-ttu-id="96d78-172">人力視覺系統在 fixates 和聚焦于物件時，會整合多個距離相關的信號。</span><span class="sxs-lookup"><span data-stu-id="96d78-172">The human visual system integrates multiple distance-dependent signals when it fixates and focuses on an object.</span></span>
* <span data-ttu-id="96d78-173">[住宿](https://en.wikipedia.org/wiki/Accommodation_%28eye%29) -個人眼的焦點。</span><span class="sxs-lookup"><span data-stu-id="96d78-173">[Accommodation](https://en.wikipedia.org/wiki/Accommodation_%28eye%29) - The focus of an individual eye.</span></span>
* <span data-ttu-id="96d78-174">[聚合](https://en.wikipedia.org/wiki/Convergence_(eye)) -在物件上向內或向外移動雙眼睛。</span><span class="sxs-lookup"><span data-stu-id="96d78-174">[Convergence](https://en.wikipedia.org/wiki/Convergence_(eye)) - Two eyes moving inward or outward to center on an object.</span></span>
* <span data-ttu-id="96d78-175">[Binocular 視覺](https://en.wikipedia.org/wiki/Stereopsis) -Disparities 與距離您 fixation 點的物件距離相關的左側和右側影像。</span><span class="sxs-lookup"><span data-stu-id="96d78-175">[Binocular vision](https://en.wikipedia.org/wiki/Stereopsis) - Disparities between the left- and right-eye images that are dependent on an object's distance away from your fixation point.</span></span>
* <span data-ttu-id="96d78-176">陰影、相對角度大小和其他 monocular (單一眼睛) 提示。</span><span class="sxs-lookup"><span data-stu-id="96d78-176">Shading, relative angular size, and other monocular (single eye) cues.</span></span>

<span data-ttu-id="96d78-177">聚合和便利的獨特之處在于，其視網膜的提示與眼睛如何變化來觀察不同距離的物件有關。</span><span class="sxs-lookup"><span data-stu-id="96d78-177">Convergence and accommodation are unique because their extra-retinal cues related to how the eyes change to perceive objects at different distances.</span></span> <span data-ttu-id="96d78-178">在自然觀賞中，聚合和住宿都已連結。</span><span class="sxs-lookup"><span data-stu-id="96d78-178">In natural viewing, convergence and accommodation are linked.</span></span> <span data-ttu-id="96d78-179">當眼睛接近 (例如，您的鼻子) 、眼睛交叉及接近接近的點。</span><span class="sxs-lookup"><span data-stu-id="96d78-179">When the eyes view something near (for example, your nose), the eyes cross and accommodate to a near point.</span></span> <span data-ttu-id="96d78-180">當眼睛是無限大的地方時，眼睛會變成平行，而眼睛則會容納到無限大。</span><span class="sxs-lookup"><span data-stu-id="96d78-180">When the eyes view something at infinity, the eyes become parallel and the eye accommodates to infinity.</span></span> 

<span data-ttu-id="96d78-181">使用 HoloLens 的使用者永遠都能容納 2.0 m，以維護清楚的影像，因為 HoloLens 顯示器是固定的，而與使用者之間的距離大約是 2.0 m。</span><span class="sxs-lookup"><span data-stu-id="96d78-181">Users wearing HoloLens will always accommodate to 2.0 m to maintain a clear image because the HoloLens displays are fixed at an optical distance approximately 2.0 m away from the user.</span></span> <span data-ttu-id="96d78-182">應用程式開發人員藉由在不同的深度放置內容和全息，來控制使用者的眼睛。</span><span class="sxs-lookup"><span data-stu-id="96d78-182">App developers control where users' eyes converge by placing content and holograms at various depths.</span></span> <span data-ttu-id="96d78-183">當使用者配合並融合至不同的距離時，兩個提示之間的自然連結會中斷，而這可能會導致 visual 不適感或疲勞，特別是當衝突的程度很大時。</span><span class="sxs-lookup"><span data-stu-id="96d78-183">When users accommodate and converge to different distances, the natural link between the two cues is broken, which can lead to visual discomfort or fatigue, especially when the magnitude of the conflict is large.</span></span> 

<span data-ttu-id="96d78-184">不適感自 vergence-住宿衝突可以避免或最小化，方法是將交集內容保持在接近 2.0 m 的位置， (也就是，在有許多深度放置接近 2.0 m 的地方時，可能) 。</span><span class="sxs-lookup"><span data-stu-id="96d78-184">Discomfort from the vergence-accommodation conflict can be avoided or minimized by keeping converged content as close to 2.0 m as possible (that is, in a scene with lots of depth place the areas of interest near 2.0 m, when possible).</span></span> <span data-ttu-id="96d78-185">當內容不能放在 2.0 m 附近時，當使用者在不同距離之間回頭看時，從 vergence-住宿衝突的不適感是最大的。</span><span class="sxs-lookup"><span data-stu-id="96d78-185">When content can't be placed near 2.0 m, discomfort from the vergence-accommodation conflict is greatest when user’s gaze back and forth between different distances.</span></span> <span data-ttu-id="96d78-186">換句話說，觀看保持在 50 公分距離的固定全像投影，比觀看在 50 公分距離而隨著時間離您忽遠忽近的全像投影，要來得舒適。</span><span class="sxs-lookup"><span data-stu-id="96d78-186">In other words, it's much more comfortable to look at a stationary hologram that stays 50 cm away than to look at a hologram 50 cm away that moves toward and away from you over time.</span></span>

<span data-ttu-id="96d78-187">將內容放在 2.0 m 也很有利，因為這兩個顯示器的設計目的是要在這個距離完全重迭。</span><span class="sxs-lookup"><span data-stu-id="96d78-187">Placing content at 2.0 m is also advantageous because the two displays are designed to fully overlap at this distance.</span></span> <span data-ttu-id="96d78-188">對於放置於此平面的影像，當它們移離全像攝影框架的側邊時，它們會顯示在另一個顯示器上。</span><span class="sxs-lookup"><span data-stu-id="96d78-188">For images placed off this plane, as they move off the side of the holographic frame they'll appear from one display while still being visible on the other.</span></span> <span data-ttu-id="96d78-189">這個 binocular rivalry 可能會干擾全像影像的深度理解。</span><span class="sxs-lookup"><span data-stu-id="96d78-189">This binocular rivalry can be disruptive to the depth perception of the hologram.</span></span>

<span data-ttu-id="96d78-190">**放置距離使用者的全像投影最佳距離**</span><span class="sxs-lookup"><span data-stu-id="96d78-190">**Optimal distance for placing holograms from the user**</span></span>

![放置距離使用者的全像投影最佳距離](images/distanceguiderendering-750px.png)

<span data-ttu-id="96d78-192">**剪輯平面** 為了達到最大的限制，建議您在 85 cm 裁剪轉譯距離，並從 1 m 開始的內容淡化。</span><span class="sxs-lookup"><span data-stu-id="96d78-192">**Clip Planes** For maximum comfort, we recommend clipping render distance at 85 cm with fade out of content starting at 1 m.</span></span> <span data-ttu-id="96d78-193">在全像是靜止的應用程式中，可輕鬆地以 50 cm 的形式來觀看全像。在這些情況下，應用程式應該將裁剪平面放置到接近 30 cm 的位置，淡出應該從剪切平面開始至少 10 cm。</span><span class="sxs-lookup"><span data-stu-id="96d78-193">In applications where holograms and users are both stationary, holograms can be viewed comfortably as near as 50 cm. In those cases, applications should place a clip plane no closer than 30 cm and fade out should start at least 10 cm away from the clip plane.</span></span> <span data-ttu-id="96d78-194">每當內容比 85 cm 更近時，請務必確保使用者不會經常從全像移動或更遠地移至不同的全像或更遠的移動，也不會經常從使用者更接近或更遠地移動，因為這些情況最可能會導致不適感發生 vergence 的問題。</span><span class="sxs-lookup"><span data-stu-id="96d78-194">Whenever content is closer than 85 cm, it's important to ensure that users don't frequently move closer or farther from holograms or that holograms don't frequently move closer to or farther from the user as these situations are most likely to cause discomfort from the vergence-accommodation conflict.</span></span> <span data-ttu-id="96d78-195">內容的設計目的，是要盡可能減少與使用者更接近 85 cm 的互動需求，但是當內容必須比 85 cm 更近時，很適合開發人員的經驗法則是設計一些案例，讓使用者和/或全息全像時間的深度不會超過25%。</span><span class="sxs-lookup"><span data-stu-id="96d78-195">Content should be designed to minimize the need for interaction closer than 85 cm from the user, but when content must be rendered closer than 85 cm, a good rule of thumb for developers is to design scenarios where users and/or holograms don't move in depth more than 25% of the time.</span></span>

<span data-ttu-id="96d78-196">**最佳做法** 當您無法在2分鐘放置全像，而且無法避免聚合和住宿之間的衝突時，將會在 1.25 m 和 5 m 之間放置全像位置的最佳區域。</span><span class="sxs-lookup"><span data-stu-id="96d78-196">**Best practices** When holograms can't be placed at 2 m and conflicts between convergence and accommodation can't be avoided, the optimal zone for hologram placement is between 1.25 m and 5 m.</span></span> <span data-ttu-id="96d78-197">在每個案例中，設計人員都應該結構內容，以鼓勵使用者在 (的情況下互動 1 + m，例如調整內容大小和預設位置參數) 。</span><span class="sxs-lookup"><span data-stu-id="96d78-197">In every case, designers should structure content to encourage users to interact 1+ m away (for example, adjust content size and default placement parameters).</span></span>

## <a name="reprojection"></a><span data-ttu-id="96d78-198">Reprojection</span><span class="sxs-lookup"><span data-stu-id="96d78-198">Reprojection</span></span>
<span data-ttu-id="96d78-199">HoloLens 有一種精密的硬體輔助全像全像 reprojection。</span><span class="sxs-lookup"><span data-stu-id="96d78-199">HoloLens has a sophisticated hardware-assisted holographic stabilization technique known as reprojection.</span></span> <span data-ttu-id="96d78-200">Reprojection 會將移動點 (CameraPose) 在場景動畫中進行移動，並讓使用者移動其頭部。</span><span class="sxs-lookup"><span data-stu-id="96d78-200">Reprojection takes into account motion and change of the point of view (CameraPose) as the scene animates and the user moves their head.</span></span>  <span data-ttu-id="96d78-201">應用程式必須採取特定動作，以充分使用 reprojection。</span><span class="sxs-lookup"><span data-stu-id="96d78-201">Applications need to take specific actions to best use reprojection.</span></span>


<span data-ttu-id="96d78-202">Reprojection 有四種主要類型</span><span class="sxs-lookup"><span data-stu-id="96d78-202">There are four main types of reprojection</span></span>
* <span data-ttu-id="96d78-203">**深度 Reprojection：**  從應用程式產生最少投入量的最佳結果。</span><span class="sxs-lookup"><span data-stu-id="96d78-203">**Depth Reprojection:**  Produces the best results with the least amount of effort from the application.</span></span>  <span data-ttu-id="96d78-204">轉譯的場景的所有元件都是根據與使用者的距離而獨立穩定。</span><span class="sxs-lookup"><span data-stu-id="96d78-204">All parts of the rendered scene are independently stabilized based on their distance from the user.</span></span>  <span data-ttu-id="96d78-205">某些呈現構件可能會顯示在深度的清晰變更。</span><span class="sxs-lookup"><span data-stu-id="96d78-205">Some rendering artifacts may be visible where there are sharp changes in depth.</span></span>  <span data-ttu-id="96d78-206">此選項僅適用于 HoloLens 2 和沉浸式耳機。</span><span class="sxs-lookup"><span data-stu-id="96d78-206">This option is only available on HoloLens 2 and Immersive Headsets.</span></span>
* <span data-ttu-id="96d78-207">**平面 Reprojection：**  允許應用程式精確控制穩定。</span><span class="sxs-lookup"><span data-stu-id="96d78-207">**Planar Reprojection:**  Allows the application precise control over stabilization.</span></span>  <span data-ttu-id="96d78-208">平面是由應用程式所設定，而該平面上的所有專案都是場景中最穩定的部分。</span><span class="sxs-lookup"><span data-stu-id="96d78-208">A plane is set by the application and everything on that plane will be the most stable part of the scene.</span></span>  <span data-ttu-id="96d78-209">另外一個全像是平面，也就是較不穩定的平面。</span><span class="sxs-lookup"><span data-stu-id="96d78-209">The further a hologram is away from the plane, the less stable it will be.</span></span>  <span data-ttu-id="96d78-210">此選項適用于所有 Windows MR 平臺。</span><span class="sxs-lookup"><span data-stu-id="96d78-210">This option is available on all Windows MR platforms.</span></span>
* <span data-ttu-id="96d78-211">**自動平面 Reprojection：**  系統會使用深度緩衝區中的資訊設定穩定平面。</span><span class="sxs-lookup"><span data-stu-id="96d78-211">**Automatic Planar Reprojection:**  The system sets a stabilization plane using information in the depth buffer.</span></span>  <span data-ttu-id="96d78-212">此選項可在 HoloLens 世代1和 HoloLens 2 上使用。</span><span class="sxs-lookup"><span data-stu-id="96d78-212">This option is available on HoloLens generation 1 and HoloLens 2.</span></span>
* <span data-ttu-id="96d78-213">**無：** 如果應用程式沒有執行任何動作，就會在使用者的前端的方向以2個計量器固定的穩定平面使用平面 Reprojection，通常會產生 substandard 的結果。</span><span class="sxs-lookup"><span data-stu-id="96d78-213">**None:** If the application does nothing, Planar Reprojection is used with the stabilization plane fixed at 2 meters in the direction of the user's head gaze, usually producing substandard results.</span></span>

<span data-ttu-id="96d78-214">應用程式必須採取特定動作來啟用不同類型的 reprojection</span><span class="sxs-lookup"><span data-stu-id="96d78-214">Applications need to take specific actions to enable the different types of reprojection</span></span>
* <span data-ttu-id="96d78-215">**深度 Reprojection：** 應用程式會針對每個呈現的畫面格，將其深度緩衝區提交至系統。</span><span class="sxs-lookup"><span data-stu-id="96d78-215">**Depth Reprojection:** The application submits their depth buffer to the system for every rendered frame.</span></span>  <span data-ttu-id="96d78-216">在 Unity 上，會使用 [ **XR 外掛程式管理**] 下 [ **Windows Mixed Reality 設定**] 窗格中的 [**共用深度緩衝區**] 選項來完成深度 Reprojection。</span><span class="sxs-lookup"><span data-stu-id="96d78-216">On Unity, Depth Reprojection is done with the **Shared Depth Buffer** option in the **Windows Mixed Reality Settings** pane under **XR Plugin Management**.</span></span>  <span data-ttu-id="96d78-217">DirectX 應用程式呼叫 CommitDirect3D11DepthBuffer。</span><span class="sxs-lookup"><span data-stu-id="96d78-217">DirectX apps call CommitDirect3D11DepthBuffer.</span></span>  <span data-ttu-id="96d78-218">應用程式不應呼叫 SetFocusPoint。</span><span class="sxs-lookup"><span data-stu-id="96d78-218">The application shouldn't call SetFocusPoint.</span></span>
* <span data-ttu-id="96d78-219">**平面 Reprojection：** 在每個畫面上，應用程式會將平面的位置告訴系統穩定。</span><span class="sxs-lookup"><span data-stu-id="96d78-219">**Planar Reprojection:** On every frame, applications tell the system the location of a plane to stabilize.</span></span>  <span data-ttu-id="96d78-220">Unity 應用程式會呼叫 SetFocusPointForFrame，且應該停用 **共用深度緩衝區** 。</span><span class="sxs-lookup"><span data-stu-id="96d78-220">Unity applications call SetFocusPointForFrame and should have **Shared Depth Buffer** disabled.</span></span>  <span data-ttu-id="96d78-221">DirectX 應用程式呼叫 SetFocusPoint，不應呼叫 CommitDirect3D11DepthBuffer。</span><span class="sxs-lookup"><span data-stu-id="96d78-221">DirectX apps call SetFocusPoint and shouldn't call CommitDirect3D11DepthBuffer.</span></span>
* <span data-ttu-id="96d78-222">**自動平面 Reprojection：** 若要啟用，應用程式必須將其深度緩衝區提交至系統，因為它們會進行深度 Reprojection。</span><span class="sxs-lookup"><span data-stu-id="96d78-222">**Automatic Planar Reprojection:** To enable, the application needs to submit their depth buffer to the system as they would for Depth Reprojection.</span></span> <span data-ttu-id="96d78-223">使用混合現實工具組的應用程式 (MRTK) 可將 [相機設定提供者](/windows/mixed-reality/mrtk-unity/features/camera-system/windows-mixed-reality-camera-settings#hololens-2-reprojection-method) 設定為使用 AutoPlanar Reprojection。</span><span class="sxs-lookup"><span data-stu-id="96d78-223">Apps using the Mixed Reality Toolkit (MRTK) can configure the [camera settings provider](/windows/mixed-reality/mrtk-unity/features/camera-system/windows-mixed-reality-camera-settings#hololens-2-reprojection-method) to use AutoPlanar Reprojection.</span></span> <span data-ttu-id="96d78-224">原生應用程式應該 `DepthReprojectionMode` 在 [HolographicCameraRenderingParameters](/uwp/api/windows.graphics.holographic.holographiccamerarenderingparameters) 中將設定為 `AutoPlanar` 每個框架。</span><span class="sxs-lookup"><span data-stu-id="96d78-224">Native apps should set the `DepthReprojectionMode` in the [HolographicCameraRenderingParameters](/uwp/api/windows.graphics.holographic.holographiccamerarenderingparameters) to `AutoPlanar` each frame.</span></span> <span data-ttu-id="96d78-225">若為 HoloLens 第1代，應用程式不應該呼叫 SetFocusPoint。</span><span class="sxs-lookup"><span data-stu-id="96d78-225">For HoloLens generation 1, the application should not call SetFocusPoint.</span></span>

### <a name="choosing-reprojection-technique"></a><span data-ttu-id="96d78-226">選擇 Reprojection 技術</span><span class="sxs-lookup"><span data-stu-id="96d78-226">Choosing Reprojection Technique</span></span>

<span data-ttu-id="96d78-227">穩定類型</span><span class="sxs-lookup"><span data-stu-id="96d78-227">Stabilization Type</span></span> |    <span data-ttu-id="96d78-228">沉浸式耳機</span><span class="sxs-lookup"><span data-stu-id="96d78-228">Immersive Headsets</span></span> |    <span data-ttu-id="96d78-229">HoloLens 第1代</span><span class="sxs-lookup"><span data-stu-id="96d78-229">HoloLens generation 1</span></span> | <span data-ttu-id="96d78-230">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="96d78-230">HoloLens 2</span></span>
--- | --- | --- | ---
<span data-ttu-id="96d78-231">深度 Reprojection</span><span class="sxs-lookup"><span data-stu-id="96d78-231">Depth Reprojection</span></span> |    <span data-ttu-id="96d78-232">建議</span><span class="sxs-lookup"><span data-stu-id="96d78-232">Recommended</span></span> |   <span data-ttu-id="96d78-233">N/A</span><span class="sxs-lookup"><span data-stu-id="96d78-233">N/A</span></span> |   <span data-ttu-id="96d78-234">建議</span><span class="sxs-lookup"><span data-stu-id="96d78-234">Recommended</span></span><br/><br/><span data-ttu-id="96d78-235">Unity 應用程式必須使用 Unity 2018.4.12 +、Unity 2019.3 + 或 Unity 2020.3 +。</span><span class="sxs-lookup"><span data-stu-id="96d78-235">Unity applications must use Unity 2018.4.12+, Unity 2019.3+ or Unity 2020.3+.</span></span> <span data-ttu-id="96d78-236">否則，請使用自動平面 Reprojection。</span><span class="sxs-lookup"><span data-stu-id="96d78-236">Otherwise use Automatic Planar Reprojection.</span></span>
<span data-ttu-id="96d78-237">自動平面 Reprojection</span><span class="sxs-lookup"><span data-stu-id="96d78-237">Automatic Planar Reprojection</span></span> | <span data-ttu-id="96d78-238">N/A</span><span class="sxs-lookup"><span data-stu-id="96d78-238">N/A</span></span> |   <span data-ttu-id="96d78-239">建議的預設值</span><span class="sxs-lookup"><span data-stu-id="96d78-239">Recommended default</span></span> |   <span data-ttu-id="96d78-240">如果深度 Reprojection 未提供最佳結果，則建議使用</span><span class="sxs-lookup"><span data-stu-id="96d78-240">Recommended if Depth Reprojection isn't giving the best results</span></span><br/><br/><span data-ttu-id="96d78-241">建議使用 unity 應用程式來使用 Unity 2018.4.12 +、Unity 2019.3 + 或 Unity 2020.3 +。</span><span class="sxs-lookup"><span data-stu-id="96d78-241">Unity applications are recommended to use Unity 2018.4.12+, Unity 2019.3+ or Unity 2020.3+.</span></span>  <span data-ttu-id="96d78-242">先前的 Unity 版本將會使用稍微降低的 reprojection 結果。</span><span class="sxs-lookup"><span data-stu-id="96d78-242">Previous Unity versions will work with slightly degraded reprojection results.</span></span>
<span data-ttu-id="96d78-243">平面 Reprojection</span><span class="sxs-lookup"><span data-stu-id="96d78-243">Planar Reprojection</span></span> |   <span data-ttu-id="96d78-244">不建議</span><span class="sxs-lookup"><span data-stu-id="96d78-244">Not Recommended</span></span> |   <span data-ttu-id="96d78-245">如果自動平面未提供最佳結果，則建議使用</span><span class="sxs-lookup"><span data-stu-id="96d78-245">Recommended if Automatic Planar isn't giving the best results</span></span> | <span data-ttu-id="96d78-246">如果沒有任何深度選項提供所需的結果，請使用</span><span class="sxs-lookup"><span data-stu-id="96d78-246">Use if neither of the depth options give desired results</span></span>    

### <a name="verifying-depth-is-set-correctly"></a><span data-ttu-id="96d78-247">正在驗證深度設定是否正確</span><span class="sxs-lookup"><span data-stu-id="96d78-247">Verifying Depth is Set Correctly</span></span>
            
<span data-ttu-id="96d78-248">當 reprojection 方法使用深度緩衝區時，請務必確認深度緩衝區的內容是否代表應用程式呈現的場景。</span><span class="sxs-lookup"><span data-stu-id="96d78-248">When a reprojection method uses the depth buffer, it's important to verify the contents of the depth buffer represent the application's rendered scene.</span></span>  <span data-ttu-id="96d78-249">許多因素可能會造成問題。</span><span class="sxs-lookup"><span data-stu-id="96d78-249">A number of factors can cause problems.</span></span> <span data-ttu-id="96d78-250">例如，如果有第二個相機用來呈現使用者介面重迭，則可能會覆寫實際視圖的所有深度資訊。</span><span class="sxs-lookup"><span data-stu-id="96d78-250">If there's a second camera used to render user interface overlays, for example, it's likely to overwrite all the depth information from the actual view.</span></span>  <span data-ttu-id="96d78-251">透明物件通常不會設定深度。</span><span class="sxs-lookup"><span data-stu-id="96d78-251">Transparent objects often don't set depth.</span></span>  <span data-ttu-id="96d78-252">某些文字轉譯預設不會設定深度。</span><span class="sxs-lookup"><span data-stu-id="96d78-252">Some text rendering won't set depth by default.</span></span>  <span data-ttu-id="96d78-253">當深度不符合轉譯的全像投影時，轉譯中將會顯示問題。</span><span class="sxs-lookup"><span data-stu-id="96d78-253">There will be visible glitches in the rendering when depth doesn't match the rendered holograms.</span></span>
            
<span data-ttu-id="96d78-254">HoloLens 2 具有可顯示深度為和未設定的視覺化效果，可從裝置入口網站啟用。</span><span class="sxs-lookup"><span data-stu-id="96d78-254">HoloLens 2 has a visualizer to show where depth is and isn't being set, which can be enabled from Device Portal.</span></span>  <span data-ttu-id="96d78-255">在 [**查看** 全像全像] 標籤上  >   ，選取 [**在耳機中顯示深度視覺效果**] 核取方塊。</span><span class="sxs-lookup"><span data-stu-id="96d78-255">On the **Views** > **Hologram Stability** tab, select the **Display depth visualization in headset** checkbox.</span></span>  <span data-ttu-id="96d78-256">已正確設定深度的區域會是藍色。</span><span class="sxs-lookup"><span data-stu-id="96d78-256">Areas that have depth set properly will be blue.</span></span>  <span data-ttu-id="96d78-257">未設定深度的已轉譯專案會以紅色標示，並需要修正。</span><span class="sxs-lookup"><span data-stu-id="96d78-257">Rendered items that don't have depth set are marked in red and need to be fixed.</span></span>  

> [!NOTE]
> <span data-ttu-id="96d78-258">深度的視覺效果將不會顯示在混合實境擷取中。</span><span class="sxs-lookup"><span data-stu-id="96d78-258">The visualization of the depth will not show up in Mixed Reality Capture.</span></span>  <span data-ttu-id="96d78-259">只有透過裝置才能看到它。</span><span class="sxs-lookup"><span data-stu-id="96d78-259">It is only visible through the device.</span></span>
            
<span data-ttu-id="96d78-260">某些 GPU 的查看工具將允許深度緩衝區的視覺效果。</span><span class="sxs-lookup"><span data-stu-id="96d78-260">Some GPU viewing tools will allow visualization of the depth buffer.</span></span>  <span data-ttu-id="96d78-261">應用程式開發人員可以使用這些工具來確定已正確設定深度。</span><span class="sxs-lookup"><span data-stu-id="96d78-261">Application developers can use these tools to make sure depth is being set properly.</span></span>  <span data-ttu-id="96d78-262">請參閱應用程式工具的檔。</span><span class="sxs-lookup"><span data-stu-id="96d78-262">Consult the documentation for the application's tools.</span></span>

### <a name="using-planar-reprojection"></a><span data-ttu-id="96d78-263">使用平面 Reprojection</span><span class="sxs-lookup"><span data-stu-id="96d78-263">Using Planar Reprojection</span></span>
> [!NOTE]
> <span data-ttu-id="96d78-264">針對桌面沉浸式耳機，設定穩定平面通常會有生產力，因為它提供的視覺品質較低，因為它比提供應用程式深度緩衝區到系統，以啟用以圖元深度為基礎的 reprojection。</span><span class="sxs-lookup"><span data-stu-id="96d78-264">For desktop immersive headsets, setting a stabilization plane is usually counter-productive, as it offers less visual quality than providing your app's depth buffer to the system to enable per-pixel depth-based reprojection.</span></span> <span data-ttu-id="96d78-265">除非在 HoloLens 上執行，否則您通常應該避免設定穩定平面。</span><span class="sxs-lookup"><span data-stu-id="96d78-265">Unless running on a HoloLens, you should generally avoid setting the stabilization plane.</span></span>

![3D 物件的穩定平面](images/stab-plane-500px.jpg)

<span data-ttu-id="96d78-267">裝置會自動嘗試選擇此平面，但應用程式應該在場景中選取焦點點來提供協助。</span><span class="sxs-lookup"><span data-stu-id="96d78-267">The device will automatically attempt to choose this plane, but the application should assist by selecting the focus point in the scene.</span></span> <span data-ttu-id="96d78-268">在 HoloLens 上執行的 Unity 應用程式應該根據您的場景選擇最佳焦點點，並將它傳遞至 [SetFocusPoint () ](../unity/focus-point-in-unity.md)。</span><span class="sxs-lookup"><span data-stu-id="96d78-268">Unity apps running on a HoloLens should choose the best focus point based on your scene and pass it into [SetFocusPoint()](../unity/focus-point-in-unity.md).</span></span> <span data-ttu-id="96d78-269">預設的旋轉 cube 範本中包含設定 DirectX 中焦點點的範例。</span><span class="sxs-lookup"><span data-stu-id="96d78-269">An example of setting the focus point in DirectX is included in the default spinning cube template.</span></span>

<span data-ttu-id="96d78-270">Unity 會將您的深度緩衝區提交至 Windows，以在連線到桌上型電腦的沉浸式耳機上執行應用程式時啟用每圖元 reprojection，如此可提供更佳的影像品質，而不會由應用程式明確運作。</span><span class="sxs-lookup"><span data-stu-id="96d78-270">Unity will submit your depth buffer to Windows to enable per-pixel reprojection when you run your app on an immersive headset connected to a desktop PC, which provides even better image quality without explicit work by the app.</span></span> <span data-ttu-id="96d78-271">當您的應用程式在 HoloLens 上執行時，您應該只提供焦點點，否則將會覆寫每圖元 reprojection。</span><span class="sxs-lookup"><span data-stu-id="96d78-271">You should only provide a Focus Point when your app is running on a HoloLens, or the per-pixel reprojection will be overridden.</span></span>


```cs
// SetFocusPoint informs the system about a specific point in your scene to
// prioritize for image stabilization. The focus point is set independently
// for each holographic camera.
// You should set the focus point near the content that the user is looking at.
// In this example, we put the focus point at the center of the sample hologram,
// since that is the only hologram available for the user to focus on.
// You can also set the relative velocity and facing of that content; the sample
// hologram is at a fixed point so we only need to indicate its position.
renderingParameters.SetFocusPoint(
    currentCoordinateSystem,
    spinningCubeRenderer.Position
    );
```

<span data-ttu-id="96d78-272">放置焦點點主要取決於全息圖所查看的內容。</span><span class="sxs-lookup"><span data-stu-id="96d78-272">Placement of the focus point largely depends on what the hologram is looking at.</span></span> <span data-ttu-id="96d78-273">應用程式有參考的注視向量，而應用程式設計師知道他們希望使用者觀察到的內容。</span><span class="sxs-lookup"><span data-stu-id="96d78-273">The app has the gaze vector for reference and the app designer knows what content they want the user to observe.</span></span>

<span data-ttu-id="96d78-274">開發人員可以在穩定的全像投影上做的最重要的一件事，就是以 60 FPS 呈現。</span><span class="sxs-lookup"><span data-stu-id="96d78-274">The single most important thing a developer can do to stabilize holograms is to render at 60 FPS.</span></span> <span data-ttu-id="96d78-275">低於 60 FPS 將大幅減少全像穩定平面優化的全像</span><span class="sxs-lookup"><span data-stu-id="96d78-275">Dropping below 60 FPS will dramatically reduce hologram stability, whatever the stabilization plane optimization.</span></span>

<span data-ttu-id="96d78-276">**最佳做法** 沒有任何通用的方法可以設定穩定平面，而且它是應用程式特定的。</span><span class="sxs-lookup"><span data-stu-id="96d78-276">**Best practices** There's no universal way to set up the stabilization plane and it's app-specific.</span></span> <span data-ttu-id="96d78-277">我們的主要建議是實驗並瞭解最適合您案例的功能。</span><span class="sxs-lookup"><span data-stu-id="96d78-277">Our main recommendation is to experiment and see what works best for your scenario.</span></span> <span data-ttu-id="96d78-278">但是，請儘量將穩定平面與最多的內容對齊，因為此平面上的所有內容都是完全穩定的。</span><span class="sxs-lookup"><span data-stu-id="96d78-278">However, try to align the stabilization plane with as much content as possible because all the content on this plane is perfectly stabilized.</span></span>

<span data-ttu-id="96d78-279">例如：</span><span class="sxs-lookup"><span data-stu-id="96d78-279">For example:</span></span>
* <span data-ttu-id="96d78-280">如果您只有 (讀取應用程式的平面內容、影片播放應用程式) ，請將穩定平面與具有內容的平面對齊。</span><span class="sxs-lookup"><span data-stu-id="96d78-280">If you have only planar content (reading app, video playback app), align the stabilization plane with the plane that has your content.</span></span>
* <span data-ttu-id="96d78-281">如果有三個小球體被全球鎖定，請讓穩定平面「剪下」到目前在使用者觀點的所有球體的中心。</span><span class="sxs-lookup"><span data-stu-id="96d78-281">If there are three small spheres that are world-locked, make the stabilization plane "cut" though the centers of all the spheres that are currently in the user's view.</span></span>
* <span data-ttu-id="96d78-282">如果您的場景具有本質上不同的內容，請優先採用物件。</span><span class="sxs-lookup"><span data-stu-id="96d78-282">If your scene has content at substantially different depths, favor further objects.</span></span>
* <span data-ttu-id="96d78-283">請務必調整每個畫面格的穩定點，使其與使用者所查看的全像影像一致</span><span class="sxs-lookup"><span data-stu-id="96d78-283">Make sure to adjust the stabilization point every frame to coincide with the hologram the user is looking at</span></span>

<span data-ttu-id="96d78-284">**要避免的事項** 穩定平面是達成穩定全息的絕佳工具，但如果誤用，可能會導致嚴重的映射不穩定。</span><span class="sxs-lookup"><span data-stu-id="96d78-284">**Things to Avoid** The stabilization plane is a great tool to achieve stable holograms, but if misused it can result in severe image instability.</span></span>
* <span data-ttu-id="96d78-285">別「火災別忘了」。</span><span class="sxs-lookup"><span data-stu-id="96d78-285">Don't "fire and forget".</span></span> <span data-ttu-id="96d78-286">最後，您可以使用使用者背後的穩定平面，或是附加至不再位於使用者觀點的物件。</span><span class="sxs-lookup"><span data-stu-id="96d78-286">You can end up with the stabilization plane behind the user or attached to an object that is no longer in the user's view.</span></span> <span data-ttu-id="96d78-287">請確定穩定平面是設定為相對相機向前 (，例如-攝影機。轉寄) </span><span class="sxs-lookup"><span data-stu-id="96d78-287">Ensure the stabilization plane normal is set opposite camera-forward (for example, -camera.forward)</span></span>
* <span data-ttu-id="96d78-288">不要在極端之間來回變更穩定平面</span><span class="sxs-lookup"><span data-stu-id="96d78-288">Don't rapidly change the stabilization plane back and forth between extremes</span></span>
* <span data-ttu-id="96d78-289">不要讓穩定平面設定為固定距離/方向</span><span class="sxs-lookup"><span data-stu-id="96d78-289">Don't leave the stabilization plane set to a fixed distance/orientation</span></span>
* <span data-ttu-id="96d78-290">不要讓穩定平面剪下使用者</span><span class="sxs-lookup"><span data-stu-id="96d78-290">Don't let the stabilization plane cut through the user</span></span>
* <span data-ttu-id="96d78-291">在桌上型電腦上執行時，請勿設定焦點，而是改為依賴每個圖元的深度型 reprojection。</span><span class="sxs-lookup"><span data-stu-id="96d78-291">Don't set the focus point when running on a desktop PC rather than a HoloLens, and instead rely on per-pixel depth-based reprojection.</span></span>

## <a name="color-separation"></a><span data-ttu-id="96d78-292">色彩分隔</span><span class="sxs-lookup"><span data-stu-id="96d78-292">Color separation</span></span> 

<span data-ttu-id="96d78-293">由於 HoloLens 顯示器的本質，有時可能會察覺稱為「色彩分隔」的成品。</span><span class="sxs-lookup"><span data-stu-id="96d78-293">Because of the nature of HoloLens displays, an artifact called "color-separation" can sometimes be perceived.</span></span> <span data-ttu-id="96d78-294">它會將影像列為分隔為個別基底色彩的影像-紅色、綠色和藍色。</span><span class="sxs-lookup"><span data-stu-id="96d78-294">It manifests as the image separating into individual base colors - red, green, and blue.</span></span> <span data-ttu-id="96d78-295">顯示白色物件時，可能會特別看到構件，因為它們有大量的紅色、綠色和藍色。</span><span class="sxs-lookup"><span data-stu-id="96d78-295">The artifact can be especially visible when displaying white objects, since they have large amounts of red, green, and blue.</span></span> <span data-ttu-id="96d78-296">最重要的是，當使用者以視覺化方式追蹤在全像全像全像全像的全像影像畫面上移動的全像影像。</span><span class="sxs-lookup"><span data-stu-id="96d78-296">It's most pronounced when a user visually tracks a hologram that is moving across the holographic frame at high speed.</span></span> <span data-ttu-id="96d78-297">成品可以資訊清單的另一種方式是物件的變形/變形。</span><span class="sxs-lookup"><span data-stu-id="96d78-297">Another way the artifact can manifest is warping/deformation of objects.</span></span> <span data-ttu-id="96d78-298">如果物件具有高對比及/或純粹的色彩（例如紅色、綠色、藍色），色彩分隔將會被視為物件的不同部分的變形。</span><span class="sxs-lookup"><span data-stu-id="96d78-298">If an object has high contrast and/or pure colors such as red, green, blue, color-separation will be perceived as warping of different parts of the object.</span></span>

<span data-ttu-id="96d78-299">**當標頭鎖定的白色圓形游標的色彩分離時，可能看起來像是使用者將其頭部旋轉到側邊的範例：**</span><span class="sxs-lookup"><span data-stu-id="96d78-299">**Example of what the color separation of a head-locked white round cursor could look like as a user rotates their head to the side:**</span></span>

![標頭鎖定的白色圓形游標的色彩分隔，在使用者將其標頭旋轉到側邊時可能看起來的範例。](images/colorseparationofroundwhitecursor-300px.png)

<span data-ttu-id="96d78-301">雖然很難完全避免色彩分隔，但是有幾種技巧可減輕問題。</span><span class="sxs-lookup"><span data-stu-id="96d78-301">Though it's difficult to completely avoid color separation, there are several techniques available to mitigate it.</span></span>

<span data-ttu-id="96d78-302">**您可以在下列情況看到色彩分隔：**</span><span class="sxs-lookup"><span data-stu-id="96d78-302">**Color-separation can be seen on:**</span></span>
* <span data-ttu-id="96d78-303">快速移動的物件，包括標頭鎖定的物件，例如資料 [指標](../../design/cursors.md)。</span><span class="sxs-lookup"><span data-stu-id="96d78-303">Objects that are moving quickly, including head-locked objects such as the [cursor](../../design/cursors.md).</span></span>
* <span data-ttu-id="96d78-304">遠距離 [穩定平面](hologram-stability.md#reprojection)的物件。</span><span class="sxs-lookup"><span data-stu-id="96d78-304">Objects that are substantially far from the [stabilization plane](hologram-stability.md#reprojection).</span></span>

<span data-ttu-id="96d78-305">**若要 attenuate 色彩分隔的效果：**</span><span class="sxs-lookup"><span data-stu-id="96d78-305">**To attenuate the effects of color-separation:**</span></span>
* <span data-ttu-id="96d78-306">讓物件延遲使用者的注視。</span><span class="sxs-lookup"><span data-stu-id="96d78-306">Make the object lag the user's gaze.</span></span> <span data-ttu-id="96d78-307">它看起來應該會像是有一些慣性，並且附加至注視的「上彈簧」。</span><span class="sxs-lookup"><span data-stu-id="96d78-307">It should appear as if it has some inertia and is attached to the gaze "on springs".</span></span> <span data-ttu-id="96d78-308">這種方法會減緩游標 (減少分隔距離) ，並將它放在使用者可能的注視點後方。</span><span class="sxs-lookup"><span data-stu-id="96d78-308">This approach slows the cursor (reducing separation distance) and puts it behind the user's likely gaze point.</span></span> <span data-ttu-id="96d78-309">只要它很快就會在使用者停止使其看起來很自然的時候，</span><span class="sxs-lookup"><span data-stu-id="96d78-309">So long as it quickly catches up when the user stops shifting their gaze it feels natural.</span></span>
* <span data-ttu-id="96d78-310">如果您想要移動全息圖，如果您希望使用者以眼睛來追蹤，請嘗試將其移動速度維持在5度以下以下。</span><span class="sxs-lookup"><span data-stu-id="96d78-310">If you do want to move a hologram, try to keep its movement speed below 5 degrees/second if you expect the user to follow it with their eyes.</span></span>
* <span data-ttu-id="96d78-311">針對資料指標使用 *淺色* 而不是 *geometry* 。</span><span class="sxs-lookup"><span data-stu-id="96d78-311">Use *light* instead of *geometry* for the cursor.</span></span> <span data-ttu-id="96d78-312">附加至注視的虛擬照明來源會被視為互動式指標，但不會造成色彩分隔。</span><span class="sxs-lookup"><span data-stu-id="96d78-312">A source of virtual illumination attached to the gaze will be perceived as an interactive pointer but won't cause color-separation.</span></span>
* <span data-ttu-id="96d78-313">調整穩定平面，使其符合使用者所撥雲見日的全像影像。</span><span class="sxs-lookup"><span data-stu-id="96d78-313">Adjust the stabilization plane to match the holograms the user is gazing at.</span></span>
* <span data-ttu-id="96d78-314">將物件設為紅色、綠色或藍色。</span><span class="sxs-lookup"><span data-stu-id="96d78-314">Make the object red, green, or blue.</span></span>
* <span data-ttu-id="96d78-315">切換至模糊的內容版本。</span><span class="sxs-lookup"><span data-stu-id="96d78-315">Switch to a blurred version of the content.</span></span> <span data-ttu-id="96d78-316">例如，您可以將圓形白色游標變更為移動方向中稍微模糊的線。</span><span class="sxs-lookup"><span data-stu-id="96d78-316">For example, a round white cursor could be changed to a slightly blurred line oriented in the direction of motion.</span></span>

<span data-ttu-id="96d78-317">和之前一樣，在 60 FPS 和設定穩定平面的情況下，以最重要的方式呈現全像全像全像全像全像</span><span class="sxs-lookup"><span data-stu-id="96d78-317">As before, rendering at 60 FPS and setting the stabilization plane are the most important techniques for hologram stability.</span></span> <span data-ttu-id="96d78-318">如果面對明顯的色彩分隔，請先確定畫面播放速率符合預期。</span><span class="sxs-lookup"><span data-stu-id="96d78-318">If facing noticeable color separation, first make sure the frame rate meets expectations.</span></span>

## <a name="see-also"></a><span data-ttu-id="96d78-319">另請參閱</span><span class="sxs-lookup"><span data-stu-id="96d78-319">See also</span></span>
* [<span data-ttu-id="96d78-320">瞭解混合現實的效能</span><span class="sxs-lookup"><span data-stu-id="96d78-320">Understanding Performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="96d78-321">色彩、光線和材質</span><span class="sxs-lookup"><span data-stu-id="96d78-321">Color, light, and materials</span></span>](../../design/color-light-and-materials.md)
* [<span data-ttu-id="96d78-322">本能互動</span><span class="sxs-lookup"><span data-stu-id="96d78-322">Instinctual interactions</span></span>](../../design/interaction-fundamentals.md)
* [<span data-ttu-id="96d78-323">MRTK 全像穩定</span><span class="sxs-lookup"><span data-stu-id="96d78-323">MRTK Hologram Stabilization</span></span>](/windows/mixed-reality/mrtk-unity/performance/hologram-stabilization)